<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Grorchestrator by kaddiya</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Grorchestrator</h1>
        <p>Groovy orchestrator for Docker designed for you to just chill</p>

        <p class="view"><a href="https://github.com/kaddiya/grorchestrator">View the Project on GitHub <small>kaddiya/grorchestrator</small></a></p>


        <ul>
          <li><a href="https://github.com/kaddiya/grorchestrator/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/kaddiya/grorchestrator/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/kaddiya/grorchestrator">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h1>

<p>Grorchestrator is an docker orchestration tool designed using Groovy.It abstracts away interaction with a Docker Daemon to a json configuration file and a few commands.it is designed to be used in CD pipelines.</p>

<h1>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motivation</h1>

<p>Docker is an engineering marvel.It helps you to think about you infrastructure and topology from wheels-up.
It definitely helps systems to achieve the fabled mantle of the <code>12 Factor App</code>.</p>

<p>But to make use of it in a production grade application,we have a plethora of options:Unwieldy shell scripts,proprietary orchestration systems all of which are a bit clunky when it comes to a slick CI/CD process the way you want,and adhering to common sense practices like Abstraction,Security,Separation of Concerns,Versioning of Infrastructure(yes!) and etc.</p>

<p>But there is a silver lining.Docker provides a Remote API that can be leveraged for orchestration.It is awesome.!</p>

<p>Grorchestrator provides a simple abstraction for this API and exposes its capabilities via a shell script that can be easily used in CD processes without having to worry about bulky shell scripts.</p>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation.</h1>

<ul>
<li>Build the distro.(you need JDK 8 installed)

<ul>
<li>  Clone the code.<br>
</li>
<li>  Run the command <code>./gradlew clean build</code>.<br>
</li>
<li>  This will yield a <code>gror.zip</code> in the <code>build/distributions/</code> directory.<br>
</li>
<li>  <code>gror.zip</code> is the bundle you will normally have to download if you don't have to build from source.<br>
</li>
</ul>
</li>
<li>Extract the archive.<br>
</li>
<li>Set the <code>$GROR_HOME</code> env variable to the place where you have extracted the archive.<br>
</li>
<li>Adjust the <code>$PATH</code> to include this: <code>export PATH=$PATH:$GROR_HOME/bin</code><br>
</li>
</ul>

<h1>
<a id="usageneeds-jre-8" class="anchor" href="#usageneeds-jre-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage.(Needs JRE 8)</h1>

<p>1.Create a <code>gror.json</code> file where you want to store the environment configurations.The contents should be as described in the documentation.<br>
2.To pull a image exec <code>gror pull &lt;your_instance_name&gt; &lt;tag&gt;</code>.<br>
3.To run a container exec <code>gror run &lt;your_instance_name&gt; &lt;tag&gt;</code>.<br>
4.To kill a container exec <code>gror kill &lt;your_instance_name&gt;</code>.  </p>

<h1>
<a id="knobs" class="anchor" href="#knobs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Knobs</h1>

<p>Set the following environment variables in your gror server shell.<br>
<code>registry_username</code>  : username for the registry.Maps to <code>DockerHubAuth.username</code>.<br>
<code>registry_email</code>: email for the registry.Maps to <code>DockerHubAuth.email</code>.<br>
<code>registry_password</code> : password for the registry.Maps to <code>DockerHubAuth.password</code>.<br>
<code>registry_auth</code> : auth for the registry.Maps to <code>DockerHubAuth.auth</code>.Let it default to <code>""</code>.   </p>

<h1>
<a id="current-features" class="anchor" href="#current-features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Current features:</h1>

<p>1.Port mappings from host to container.<br>
2.Volume mappings from host to container.<br>
3.Adding extra hosts to the container.<br>
4.Pulling an image from docker hub.<br>
5.Running a container.<br>
6.Killing a container.<br>
7.SSL Support.<br>
8.V1.19 to V1.24 of Docker Remote API supported</p>

<h1>
<a id="structure-of-grorjson" class="anchor" href="#structure-of-grorjson" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Structure of Gror.json</h1>

<p>1.Gror.json is the file that the gror installation reads to be able to orchestrate your environment.<br>
2.You would need to structure the file appropriately and source control it.<br>
3.Its structure is as follows.please refer to the <code>gror.json.example</code> as a reference</p>

<pre><code>      systemInfo  
         name :   Name of the system.

      components  
         instance 
             name : Name of the instance.(Eg redis-server-1)    

             portMapping: Map of ports to be exposed .

             volumeMapping: Map of volumes to be attached.

             imageName: The image name to run e.g. (redis)  

             host  
                 alias: a common name for easy reference  
                 ip: Ip of the host  
                 dockerPort: Port of the docker remote api  
                 protocol :  http or https  
                 dockerVersion : Docker version 
                 apiVersion : Docker API version  

             tag : The tag of image to run  

             hostsMapping : Addition of extra hosts to the container.  

             envMap : Map of environment vars to be set in the container.  

             links :  Map of links to other containers  

          name : Name of the micro service.(Eg - Cache-Service)    

</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kaddiya">kaddiya</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
